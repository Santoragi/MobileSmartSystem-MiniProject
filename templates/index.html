<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Raspberry Pi 주차장 관리 시스템</title>
    <link rel="stylesheet" href="./static/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.2/mqttws31.min.js" type="text/javascript"></script>
    <script src="./static/mqttio.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js" type="text/javascript"></script>      
    <script src="./static/placeChart.js" type="text/javascript"></script>      

</head>
<body>
    <header>
        <h1>Raspberry Pi 주차장 관리 시스템</h1>
    </header>
    <main>
        <section class = "card">
            <h2>남은 자리</h2>
            <hr>
            <div class = "list-container">
                <canvas id="canvas" width="300" height="200"></canvas>
            </div>
        </section>
        <section class="card">
            <h2>자동차 출입 정보</h2>
            <hr>
            <div id="cars" class="list-container"></div>
        </section>
        <section class="card">
            <h2>자동차별 요금</h2>
            <hr>
            <div id="charge" class="list-container"></div>
        </section>
    </main>
    <footer>
        <p>2071016 장우진</p>
    </footer>

        <script>
                window.addEventListener("load",drawChart);
                window.addEventListener("load", function () {
                // http://192...5:8080/에서 192...5의 IP만 끊어내는 코드
                let url = new String(document.location);
                ip = (url.split("//"))[1]; // ip = "192...:8080/"
                ip = (ip.split(":"))[0]; // ip = "192..."
                connect(ip);
                });
        </script>
</body>
</html>
